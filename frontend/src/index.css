@import './fonts.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Variables are now injected by ThemeProvider */
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    /* Optimized base font size for readability */
    font-size: 16px;
    /* Smooth font rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    /* Prevent font size inflation on mobile */
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
    /* Usage of optical sizing for variable fonts */
    font-optical-sizing: auto;
  }

  body {
    @apply !bg-background text-foreground;
    font-family: "Inter", sans-serif !important;
    /* Enforce app font against external overrides */
    font-feature-settings: "rlig" 1, "calt" 1;
    /* Base text size - slightly smaller for density */
    font-size: 0.9375rem;
    /* 15px */
    line-height: 1.5;
  }

  /* Typography rhythm - consistent spacing between text elements */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-semibold tracking-tight;
  }

  h1 {
    @apply text-3xl leading-tight;
  }

  h2 {
    @apply text-2xl leading-snug;
  }

  h3 {
    @apply text-xl leading-snug;
  }

  h4 {
    @apply text-lg leading-snug;
  }

  /* Custom Scrollbar - Theme Integrated */
  ::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--background));
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
    border-radius: 6px;
    border: 3px solid hsl(var(--background));
    transition: background 200ms;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--primary) / 0.5);
  }

  ::-webkit-scrollbar-thumb:active {
    background: hsl(var(--primary));
  }
}

@layer utilities {
  .glass {
    @apply bg-[#1C1C1C]/70 backdrop-blur-md border border-white/5;
  }

  .glass-panel {
    @apply bg-[#1C1C1C] border border-white/5 shadow-sm;
  }

  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-white to-white/60;
  }

  /* Typography utilities for consistent text styling */

  /* Overline - Category labels, section markers */
  .text-overline {
    @apply text-[10px] font-semibold uppercase tracking-widest text-muted-foreground;
  }

  /* Metadata - Timestamps, secondary info */
  .text-metadata {
    @apply text-[11px] font-medium uppercase tracking-wider text-muted-foreground;
  }

  /* Caption - Helper text, footnotes */
  .text-caption {
    @apply text-[11px] font-normal tracking-wide text-muted-foreground;
  }

  /* Label - Form labels, interactive elements */
  .text-label {
    @apply text-[13px] font-medium tracking-wide;
  }

  /* Body variants */
  .text-body {
    @apply text-[15px] font-normal leading-relaxed;
  }

  .text-body-sm {
    @apply text-[13px] font-normal leading-relaxed;
  }

  /* Premium heading with tight tracking */
  .text-heading {
    @apply font-semibold tracking-tight leading-tight;
  }

  /* Premium grid background pattern */
  .bg-grid-pattern {
    position: relative;
  }

  .bg-grid-pattern::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 500px;
    background-image:
      linear-gradient(to bottom, transparent 0%, hsl(var(--background)) 100%),
      linear-gradient(to right, hsl(var(--border) / 0.5) 1px, transparent 1px),
      linear-gradient(to bottom, hsl(var(--border) / 0.5) 1px, transparent 1px);
    background-size: 100% 100%, 40px 40px, 40px 40px;
    pointer-events: none;
    z-index: 0;
    mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, transparent 100%);
  }

  .bg-grid-pattern>* {
    position: relative;
    z-index: 1;
  }
}